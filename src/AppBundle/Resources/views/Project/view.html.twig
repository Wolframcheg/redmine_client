{% extends '::base.html.twig' %}

{% block body %}
    <h1>{% block title %}Project {{ data.project.name }}{% endblock %}</h1>

    <h2>Issues</h2>

    <div class="box">
        <table class="table table-striped table-hover table-nonfluid">
            <thead>
            <tr>
                <th>Subject</th>
                <th>Status</th>
                <th>Priority</th>
            </tr>
            </thead>
            <tbody>
            {% for issue in data.issues %}
                <tr>
                    <td>{{ issue.subject }}</td>
                    <td>{{ issue.status.name }}</td>
                    <td>{{ issue.priority.name }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    {% if data.countPages > 1 %}
        <nav>
            <ul class="pagination">
                {% if app.request.query.get("page") == null %}
                    {% set page = 1 %}
                {% else %}
                    {% set page = app.request.query.get("page") %}
                {% endif %}
                {% for i in 1..data.countPages %}
                    <li class="{{ page == i ? 'active' }}">
                        <a href="{{ path('project_view',{'id': data.project.id, 'page': i}) }}">{{ i }}</a>
                    </li>
                {% endfor %}
            </ul>
        </nav>
    {% endif %}
{% endblock %}


